"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[3965],{6954:(e,t,s)=>{s.d(t,{P:()=>a});var n=s(96540);const o=(0,s(9012).e)();function a(){const[e,t]=(0,n.useState)(!1),[s,a]=(0,n.useState)(null);return{submitQuery:async(e,s)=>{t(!0),a(null);try{const t=await fetch(`${o}/v1/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,book_context:{book_id:"physical-ai-robotics",chapter_number:null,page_url:null},selected_text:s||null})});if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const n=await t.json();return{answer:n.response_text,sources:n.source_references.map(e=>({chapter:e.chapter||"",section:e.section||"",page_url:e.citation||"#"})),confidence:n.confidence_score||.8}}catch(n){const e=n instanceof Error?n.message:"Unknown error occurred";throw a(e),n}finally{t(!1)}},isLoading:e,error:s}}},9012:(e,t,s)=>{s.d(t,{e:()=>a});const n="https://ayeshassdev-aibook.hf.space",o="http://localhost:8000";function a(){return"undefined"!=typeof window&&"localhost"===window.location.hostname?o:n}},13965:(e,t,s)=>{s.r(t),s.d(t,{default:()=>i});var n=s(96540);const o={askAiButton:"askAiButton_brIu",fadeIn:"fadeIn__IdG",modalOverlay:"modalOverlay_tlyc",overlayFadeIn:"overlayFadeIn_dqkr",modal:"modal_VxAv",modalSlideUp:"modalSlideUp_a9Qo",modalHeader:"modalHeader_U7J7",closeButton:"closeButton_J7Oa",selectedTextPreview:"selectedTextPreview_3e5E",questionForm:"questionForm_HBy9",questionInput:"questionInput_qzNa",submitButton:"submitButton_jS1z",answer:"answer_jBGJ",slideDown:"slideDown_khTD"};var a=s(6954),r=s(74848);function i(){const[e,t]=(0,n.useState)(""),[s,i]=(0,n.useState)(!1),[c,l]=(0,n.useState)({x:0,y:0}),[u,d]=(0,n.useState)(""),[h,m]=(0,n.useState)(!1),[p,y]=(0,n.useState)(!1),[x,_]=(0,n.useState)(""),{submitQuery:b}=(0,a.P)();(0,n.useEffect)(()=>{const e=()=>{const e=window.getSelection(),s=e?.toString().trim();if(s&&s.length>10){t(s);const n=e?.getRangeAt(0);if(n){const e=n.getBoundingClientRect();l({x:e.left+e.width/2,y:e.top-10}),i(!0)}}else i(!1)};return document.addEventListener("mouseup",e),document.addEventListener("keyup",e),()=>{document.removeEventListener("mouseup",e),document.removeEventListener("keyup",e)}},[]);const w=()=>{m(!1),d(""),_(""),t("")};return(0,r.jsxs)(r.Fragment,{children:[s&&(0,r.jsx)("button",{className:o.askAiButton,style:{left:`${c.x}px`,top:`${c.y}px`},onClick:()=>{i(!1),m(!0),_("")},children:"Ask AI about this"}),h&&(0,r.jsx)("div",{className:o.modalOverlay,onClick:w,children:(0,r.jsxs)("div",{className:o.modal,onClick:e=>e.stopPropagation(),children:[(0,r.jsxs)("div",{className:o.modalHeader,children:[(0,r.jsx)("h3",{children:"Ask about selected text"}),(0,r.jsx)("button",{className:o.closeButton,onClick:w,children:"\u2715"})]}),(0,r.jsxs)("div",{className:o.selectedTextPreview,children:[(0,r.jsx)("strong",{children:"Selected text:"}),(0,r.jsxs)("p",{children:[e.substring(0,200),e.length>200?"...":""]})]}),(0,r.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),u.trim()&&!p){y(!0);try{const t=await b(u,e);_(t.answer)}catch(s){_("Sorry, I encountered an error. Please try again.")}finally{y(!1)}}},className:o.questionForm,children:[(0,r.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),placeholder:"What do you want to know about this text?",disabled:p,className:o.questionInput,autoFocus:!0}),(0,r.jsx)("button",{type:"submit",disabled:p||!u.trim(),className:o.submitButton,children:p?"Processing...":"Ask"})]}),x&&(0,r.jsxs)("div",{className:o.answer,children:[(0,r.jsx)("strong",{children:"Answer:"}),(0,r.jsx)("p",{children:x})]})]})})]})}}}]);