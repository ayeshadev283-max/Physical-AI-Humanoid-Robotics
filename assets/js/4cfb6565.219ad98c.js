"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[7788],{28453:(n,e,r)=>{r.d(e,{R:()=>a,x:()=>l});var i=r(96540);const o={},s=i.createContext(o);function a(n){const e=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:a(n.components),i.createElement(s.Provider,{value:e},n.children)}},45377:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>t,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"chapters/module-1-ros2/simulation-pipeline","title":"Chapter 4: Simulation Pipeline","description":"Gazebo integration, launch files, and development workflow","source":"@site/docs/chapters/module-1-ros2/04-simulation-pipeline.md","sourceDirName":"chapters/module-1-ros2","slug":"/chapters/module-1-ros2/simulation-pipeline","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapters/module-1-ros2/simulation-pipeline","draft":false,"unlisted":false,"editUrl":"https://github.com/ayeshadev283-max/Physical-AI-Humanoid-Robotics/tree/main/docs/chapters/module-1-ros2/04-simulation-pipeline.md","tags":[{"inline":true,"label":"ros2","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/ros-2"},{"inline":true,"label":"gazebo","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/gazebo"},{"inline":true,"label":"launch","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/launch"},{"inline":true,"label":"colcon","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/colcon"},{"inline":true,"label":"development","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/development"}],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"Chapter 4: Simulation Pipeline","description":"Gazebo integration, launch files, and development workflow","tags":["ros2","gazebo","launch","colcon","development"]},"sidebar":"bookSidebar","previous":{"title":"Chapter 3: TF and URDF","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapters/module-1-ros2/tf-urdf"},"next":{"title":"Module 2: Digital Twin","permalink":"/Physical-AI-Humanoid-Robotics/docs/module-2-digital-twin"}}');var o=r(74848),s=r(28453);const a={sidebar_position:4,title:"Chapter 4: Simulation Pipeline",description:"Gazebo integration, launch files, and development workflow",tags:["ros2","gazebo","launch","colcon","development"]},l="Chapter 4: Simulation Pipeline",t={},c=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"4.1 Gazebo Integration",id:"41-gazebo-integration",level:2},{value:"Gazebo + ROS 2",id:"gazebo--ros-2",level:3},{value:"ros2_control",id:"ros2_control",level:3},{value:"Sensor Plugins",id:"sensor-plugins",level:3},{value:"4.2 Launch Files (Python Launch System)",id:"42-launch-files-python-launch-system",level:2},{value:"Why Python Launch?",id:"why-python-launch",level:3},{value:"Basic Launch File",id:"basic-launch-file",level:3},{value:"Advanced Features",id:"advanced-features",level:3},{value:"Gazebo Launch Example",id:"gazebo-launch-example",level:3},{value:"4.3 Development Workflow",id:"43-development-workflow",level:2},{value:"Colcon Build System",id:"colcon-build-system",level:3},{value:"Testing",id:"testing",level:3},{value:"Debugging",id:"debugging",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...n.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(e.header,{children:(0,o.jsx)(e.h1,{id:"chapter-4-simulation-pipeline",children:"Chapter 4: Simulation Pipeline"})}),"\n",(0,o.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"Integrate ROS 2 with Gazebo simulation"}),"\n",(0,o.jsx)(e.li,{children:"Write Python launch files for complex system bringup"}),"\n",(0,o.jsx)(e.li,{children:"Use colcon for building, testing, and debugging ROS 2 packages"}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"41-gazebo-integration",children:"4.1 Gazebo Integration"}),"\n",(0,o.jsx)(e.h3,{id:"gazebo--ros-2",children:"Gazebo + ROS 2"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Gazebo"})," (formerly Ignition, now Gazebo Sim):"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Open-source 3D robot simulator"}),"\n",(0,o.jsx)(e.li,{children:"Physics engines: ODE, Bullet, DART"}),"\n",(0,o.jsx)(e.li,{children:"Sensor simulation: cameras, LiDAR, IMU, contact"}),"\n",(0,o.jsx)(e.li,{children:"Plugin system for custom behavior"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"ROS 2 Integration"})," (",(0,o.jsx)(e.code,{children:"ros_gz"}),"):"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Bridge: Translates Gazebo topics \u2194 ROS 2 topics"}),"\n",(0,o.jsx)(e.li,{children:"Plugins: Sensors, actuators publish to ROS 2"}),"\n",(0,o.jsx)(e.li,{children:"URDF/SDF: Same robot description in simulation and hardware"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"ros2_control",children:"ros2_control"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Abstraction layer"})," for hardware interfaces:"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Same controller code runs on simulation and real robot"}),"\n",(0,o.jsx)(e.li,{children:"Hardware interface plugins (Gazebo, real motors)"}),"\n",(0,o.jsxs)(e.li,{children:["Standard controllers: ",(0,o.jsx)(e.code,{children:"joint_trajectory_controller"}),", ",(0,o.jsx)(e.code,{children:"diff_drive_controller"})]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Architecture"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502     Controller Manager              \u2502\r\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\r\n\u2502  joint_trajectory_controller        \u2502\r\n\u2502  diff_drive_controller              \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n              \u2502 ros2_control interface\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  Hardware Interface                 \u2502\r\n\u2502  - GazeboSystem (sim)               \u2502\r\n\u2502  - RobotHardware (real)             \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"URDF Configuration"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<ros2_control name="robot_hardware" type="system">\r\n  <hardware>\r\n    <plugin>gazebo_ros2_control/GazeboSystem</plugin>\r\n  </hardware>\r\n\r\n  <joint name="left_wheel_joint">\r\n    <command_interface name="velocity"/>\r\n    <state_interface name="position"/>\r\n    <state_interface name="velocity"/>\r\n  </joint>\r\n\r\n  <joint name="right_wheel_joint">\r\n    <command_interface name="velocity"/>\r\n    <state_interface name="position"/>\r\n    <state_interface name="velocity"/>\r\n  </joint>\r\n</ros2_control>\n'})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Controller Config"})," (",(0,o.jsx)(e.code,{children:"controllers.yaml"}),"):"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-yaml",children:'controller_manager:\r\n  ros__parameters:\r\n    update_rate: 100  # Hz\r\n\r\n    diff_drive_controller:\r\n      type: diff_drive_controller/DiffDriveController\r\n\r\n    joint_state_broadcaster:\r\n      type: joint_state_broadcaster/JointStateBroadcaster\r\n\r\ndiff_drive_controller:\r\n  ros__parameters:\r\n    left_wheel_names: ["left_wheel_joint"]\r\n    right_wheel_names: ["right_wheel_joint"]\r\n    wheel_separation: 0.4\r\n    wheel_radius: 0.1\r\n    publish_rate: 50.0\r\n    base_frame_id: base_link\n'})}),"\n",(0,o.jsx)(e.h3,{id:"sensor-plugins",children:"Sensor Plugins"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Camera"})," (URDF Gazebo plugin):"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<gazebo reference="camera_link">\r\n  <sensor name="camera" type="camera">\r\n    <update_rate>30</update_rate>\r\n    <camera>\r\n      <horizontal_fov>1.047</horizontal_fov>\r\n      <image>\r\n        <width>640</width>\r\n        <height>480</height>\r\n      </image>\r\n    </camera>\r\n    <plugin name="camera_driver" filename="libgazebo_ros_camera.so">\r\n      <ros>\r\n        <namespace>/robot</namespace>\r\n        <remapping>image_raw:=camera/image</remapping>\r\n        <remapping>camera_info:=camera/info</remapping>\r\n      </ros>\r\n    </plugin>\r\n  </sensor>\r\n</gazebo>\n'})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"LiDAR"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-xml",children:'<gazebo reference="lidar_link">\r\n  <sensor name="lidar" type="gpu_ray">\r\n    <update_rate>10</update_rate>\r\n    <ray>\r\n      <scan>\r\n        <horizontal>\r\n          <samples>720</samples>\r\n          <resolution>1</resolution>\r\n          <min_angle>-3.14</min_angle>\r\n          <max_angle>3.14</max_angle>\r\n        </horizontal>\r\n      </scan>\r\n      <range>\r\n        <min>0.1</min>\r\n        <max>30.0</max>\r\n      </range>\r\n    </ray>\r\n    <plugin name="lidar_driver" filename="libgazebo_ros_ray_sensor.so">\r\n      <ros>\r\n        <remapping>~/out:=scan</remapping>\r\n      </ros>\r\n    </plugin>\r\n  </sensor>\r\n</gazebo>\n'})}),"\n",(0,o.jsx)(e.h2,{id:"42-launch-files-python-launch-system",children:"4.2 Launch Files (Python Launch System)"}),"\n",(0,o.jsx)(e.h3,{id:"why-python-launch",children:"Why Python Launch?"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"ROS 1 XML Launch"})," limitations:"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"No conditionals (if/else)"}),"\n",(0,o.jsx)(e.li,{children:"No loops"}),"\n",(0,o.jsx)(e.li,{children:"No programmatic configuration"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"ROS 2 Python Launch"}),":"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsx)(e.li,{children:"Full Python: conditionals, functions, external configs"}),"\n",(0,o.jsx)(e.li,{children:"Type checking"}),"\n",(0,o.jsx)(e.li,{children:"Composable nodes (multiple nodes in one process)"}),"\n"]}),"\n",(0,o.jsx)(e.h3,{id:"basic-launch-file",children:"Basic Launch File"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='demo_nodes_cpp',\r\n            executable='talker',\r\n            name='talker',\r\n            output='screen',\r\n            parameters=[{'use_sim_time': True}]\r\n        ),\r\n        Node(\r\n            package='demo_nodes_cpp',\r\n            executable='listener',\r\n            name='listener',\r\n            output='screen'\r\n        )\r\n    ])\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Run"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"ros2 launch my_package demo.launch.py\n"})}),"\n",(0,o.jsx)(e.h3,{id:"advanced-features",children:"Advanced Features"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Parameters from YAML"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"from launch.substitutions import PathJoinSubstitution\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\nconfig = PathJoinSubstitution([\r\n    FindPackageShare('my_robot'),\r\n    'config',\r\n    'params.yaml'\r\n])\r\n\r\nNode(\r\n    package='my_robot',\r\n    executable='controller',\r\n    parameters=[config]\r\n)\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Conditionals"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"from launch.conditions import IfCondition\r\nfrom launch.substitutions import LaunchConfiguration\r\n\r\nNode(\r\n    package='rviz2',\r\n    executable='rviz2',\r\n    condition=IfCondition(LaunchConfiguration('use_rviz'))\r\n)\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Remapping"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"Node(\r\n    package='image_tools',\r\n    executable='cam2image',\r\n    remappings=[\r\n        ('/image', '/camera/image_raw'),\r\n        ('/camera_info', '/camera/info')\r\n    ]\r\n)\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Composable Nodes"})," (lower latency):"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"from launch_ros.actions import ComposableNodeContainer\r\nfrom launch_ros.descriptions import ComposableNode\r\n\r\nComposableNodeContainer(\r\n    name='camera_container',\r\n    namespace='',\r\n    package='rclcpp_components',\r\n    executable='component_container',\r\n    composable_node_descriptions=[\r\n        ComposableNode(\r\n            package='image_proc',\r\n            plugin='image_proc::RectifyNode',\r\n            name='rectify'\r\n        ),\r\n        ComposableNode(\r\n            package='depth_image_proc',\r\n            plugin='depth_image_proc::PointCloudXyzrgbNode',\r\n            name='pointcloud'\r\n        )\r\n    ]\r\n)\n"})}),"\n",(0,o.jsx)(e.h3,{id:"gazebo-launch-example",children:"Gazebo Launch Example"}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import IncludeLaunchDescription\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom launch.substitutions import PathJoinSubstitution\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\n\r\ndef generate_launch_description():\r\n    # Robot description\r\n    urdf_path = PathJoinSubstitution([\r\n        FindPackageShare('my_robot_description'),\r\n        'urdf', 'robot.urdf.xacro'\r\n    ])\r\n\r\n    # Gazebo launch\r\n    gazebo = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource([\r\n            PathJoinSubstitution([\r\n                FindPackageShare('ros_gz_sim'),\r\n                'launch', 'gz_sim.launch.py'\r\n            ])\r\n        ]),\r\n        launch_arguments={'gz_args': '-r empty.sdf'}.items()\r\n    )\r\n\r\n    # Spawn robot\r\n    spawn_robot = Node(\r\n        package='ros_gz_sim',\r\n        executable='create',\r\n        arguments=[\r\n            '-name', 'my_robot',\r\n            '-topic', 'robot_description',\r\n            '-x', '0.0', '-y', '0.0', '-z', '0.5'\r\n        ]\r\n    )\r\n\r\n    # Robot state publisher\r\n    robot_state_publisher = Node(\r\n        package='robot_state_publisher',\r\n        executable='robot_state_publisher',\r\n        parameters=[{'robot_description': Command(['xacro ', urdf_path])}]\r\n    )\r\n\r\n    # Controller manager\r\n    controller_manager = Node(\r\n        package='controller_manager',\r\n        executable='ros2_control_node',\r\n        parameters=[\r\n            {'robot_description': Command(['xacro ', urdf_path])},\r\n            PathJoinSubstitution([\r\n                FindPackageShare('my_robot_bringup'),\r\n                'config', 'controllers.yaml'\r\n            ])\r\n        ]\r\n    )\r\n\r\n    return LaunchDescription([\r\n        gazebo,\r\n        robot_state_publisher,\r\n        spawn_robot,\r\n        controller_manager\r\n    ])\n"})}),"\n",(0,o.jsx)(e.h2,{id:"43-development-workflow",children:"4.3 Development Workflow"}),"\n",(0,o.jsx)(e.h3,{id:"colcon-build-system",children:"Colcon Build System"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Colcon"})," (collective construction):"]}),"\n",(0,o.jsxs)(e.ul,{children:["\n",(0,o.jsxs)(e.li,{children:["Successor to ",(0,o.jsx)(e.code,{children:"catkin_make"}),", ",(0,o.jsx)(e.code,{children:"catkin build"})]}),"\n",(0,o.jsx)(e.li,{children:"Language-agnostic (Python, C++, Rust)"}),"\n",(0,o.jsx)(e.li,{children:"Parallel builds"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Workspace Structure"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{children:"ros2_ws/\r\n\u251c\u2500\u2500 src/                    # Source packages\r\n\u2502   \u251c\u2500\u2500 my_robot_description/\r\n\u2502   \u251c\u2500\u2500 my_robot_bringup/\r\n\u2502   \u2514\u2500\u2500 my_robot_control/\r\n\u251c\u2500\u2500 build/                  # Compiled artifacts\r\n\u251c\u2500\u2500 install/                # Install space (setup.bash here)\r\n\u2514\u2500\u2500 log/                    # Build logs\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Build Commands"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Build all packages\r\ncolcon build\r\n\r\n# Build specific package\r\ncolcon build --packages-select my_robot_description\r\n\r\n# Build with debug symbols\r\ncolcon build --cmake-args -DCMAKE_BUILD_TYPE=Debug\r\n\r\n# Build in parallel (4 jobs)\r\ncolcon build --parallel-workers 4\r\n\r\n# Symlink Python files (no rebuild needed for changes)\r\ncolcon build --symlink-install\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Source Workspace"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"source install/setup.bash  # Bash\r\nsource install/setup.zsh   # Zsh\n"})}),"\n",(0,o.jsx)(e.h3,{id:"testing",children:"Testing"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Unit Tests"})," (Python):"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"import unittest\r\nfrom my_package.my_module import add\r\n\r\nclass TestAdd(unittest.TestCase):\r\n    def test_add_positive(self):\r\n        self.assertEqual(add(2, 3), 5)\r\n\r\n    def test_add_negative(self):\r\n        self.assertEqual(add(-1, -1), -2)\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Integration Tests"})," (",(0,o.jsx)(e.code,{children:"launch_testing"}),"):"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"import launch_testing\r\nimport pytest\r\n\r\n@pytest.mark.launch_test\r\ndef test_talker_listener():\r\n    # Launch nodes, check for expected output\r\n    pass\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Run Tests"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# All tests\r\ncolcon test\r\n\r\n# Specific package\r\ncolcon test --packages-select my_package\r\n\r\n# View results\r\ncolcon test-result --all\n"})}),"\n",(0,o.jsx)(e.h3,{id:"debugging",children:"Debugging"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"GDB (C++)"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"# Launch with gdb\r\nros2 run --prefix 'gdb -ex run --args' my_package my_node\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Python Debugger"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-python",children:"import pdb; pdb.set_trace()  # Breakpoint\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Logging Levels"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"ros2 run my_package my_node --ros-args --log-level DEBUG\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Topic Introspection"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"ros2 topic echo /scan\r\nros2 topic hz /camera/image_raw  # Check frequency\r\nros2 topic bw /camera/image_raw  # Check bandwidth\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"rqt Tools"}),":"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-bash",children:"rqt_graph     # Visualize node graph\r\nrqt_console   # Log messages\r\nrqt_plot      # Plot numeric topics\r\nrqt_bag       # Record/playback data\n"})}),"\n",(0,o.jsx)(e.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Version Control"}),": Use git, ",(0,o.jsx)(e.code,{children:".gitignore"})," build artifacts"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Dependencies"}),": List in ",(0,o.jsx)(e.code,{children:"package.xml"}),", use ",(0,o.jsx)(e.code,{children:"rosdep install"})]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Documentation"}),": README per package, code comments"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"CI/CD"}),": GitHub Actions for automated builds/tests"]}),"\n",(0,o.jsxs)(e.li,{children:[(0,o.jsx)(e.strong,{children:"Code Style"}),": ",(0,o.jsx)(e.code,{children:"ament_lint"})," for C++, ",(0,o.jsx)(e.code,{children:"flake8"})," for Python"]}),"\n"]}),"\n",(0,o.jsx)(e.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Gazebo"}),": Physics simulation with ",(0,o.jsx)(e.code,{children:"ros2_control"})," abstraction\r\n",(0,o.jsx)(e.strong,{children:"Launch Files"}),": Python-based, composable, conditional logic\r\n",(0,o.jsx)(e.strong,{children:"Colcon"}),": Build system with parallel compilation, testing\r\n",(0,o.jsx)(e.strong,{children:"Development"}),": Debugging tools, CI/CD, code quality checks"]}),"\n",(0,o.jsx)(e.h2,{id:"exercises",children:"Exercises"}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Exercise 4.1"}),": Configure ",(0,o.jsx)(e.code,{children:"ros2_control"})," for a differential drive robot in Gazebo. Define hardware interfaces for left and right wheel velocity commands. Load the ",(0,o.jsx)(e.code,{children:"diff_drive_controller"})," and test with ",(0,o.jsx)(e.code,{children:"ros2 topic pub /cmd_vel"}),"."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Exercise 4.2"}),": Write a Python launch file that:"]}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsx)(e.li,{children:"Launches Gazebo with a custom world file"}),"\n",(0,o.jsx)(e.li,{children:"Spawns a robot from URDF"}),"\n",(0,o.jsx)(e.li,{children:"Starts the robot_state_publisher"}),"\n",(0,o.jsxs)(e.li,{children:["Conditionally launches RViz if ",(0,o.jsx)(e.code,{children:"use_rviz:=true"})]}),"\n",(0,o.jsxs)(e.li,{children:["Accepts a ",(0,o.jsx)(e.code,{children:"robot_name"})," argument"]}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Exercise 4.3"}),": Add a camera sensor plugin to your robot's URDF. Configure it to publish to ",(0,o.jsx)(e.code,{children:"/robot/camera/image_raw"})," at 30 Hz with 640x480 resolution. Verify the image stream in RViz."]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Exercise 4.4"}),": Set up continuous integration (CI) for a ROS 2 workspace using GitHub Actions. The CI should:"]}),"\n",(0,o.jsxs)(e.ol,{children:["\n",(0,o.jsxs)(e.li,{children:["Build all packages with ",(0,o.jsx)(e.code,{children:"colcon build"})]}),"\n",(0,o.jsxs)(e.li,{children:["Run unit tests with ",(0,o.jsx)(e.code,{children:"colcon test"})]}),"\n",(0,o.jsx)(e.li,{children:"Run static analysis (ament_lint)"}),"\n",(0,o.jsx)(e.li,{children:"Fail if any step produces errors"}),"\n"]}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.strong,{children:"Module 1 Complete!"})," Next modules cover Gazebo/Unity (Module 2), NVIDIA Isaac (Module 3), VLA models (Module 4), and capstone project (Module 5)."]})]})}function h(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,o.jsx)(e,{...n,children:(0,o.jsx)(d,{...n})}):d(n)}}}]);