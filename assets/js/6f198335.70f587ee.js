"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[7822],{6449:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"chapters/module-1-ros2/nodes-topics-services-actions","title":"Chapter 2: Nodes, Topics, Services, Actions","description":"ROS 2 communication patterns and node lifecycle","source":"@site/docs/chapters/module-1-ros2/02-nodes-topics-services-actions.md","sourceDirName":"chapters/module-1-ros2","slug":"/chapters/module-1-ros2/nodes-topics-services-actions","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapters/module-1-ros2/nodes-topics-services-actions","draft":false,"unlisted":false,"editUrl":"https://github.com/ayeshadev283-max/Physical-AI-Humanoid-Robotics/tree/main/docs/chapters/module-1-ros2/02-nodes-topics-services-actions.md","tags":[{"inline":true,"label":"ros2","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/ros-2"},{"inline":true,"label":"nodes","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/nodes"},{"inline":true,"label":"topics","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/topics"},{"inline":true,"label":"services","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/services"},{"inline":true,"label":"actions","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/actions"},{"inline":true,"label":"lifecycle","permalink":"/Physical-AI-Humanoid-Robotics/docs/tags/lifecycle"}],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Chapter 2: Nodes, Topics, Services, Actions","description":"ROS 2 communication patterns and node lifecycle","tags":["ros2","nodes","topics","services","actions","lifecycle"]},"sidebar":"bookSidebar","previous":{"title":"Chapter 1: Core Concepts","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapters/module-1-ros2/core-concepts"},"next":{"title":"Chapter 3: TF and URDF","permalink":"/Physical-AI-Humanoid-Robotics/docs/chapters/module-1-ros2/tf-urdf"}}');var i=s(74848),c=s(28453);const t={sidebar_position:2,title:"Chapter 2: Nodes, Topics, Services, Actions",description:"ROS 2 communication patterns and node lifecycle",tags:["ros2","nodes","topics","services","actions","lifecycle"]},l="Chapter 2: Nodes, Topics, Services, Actions",a={},o=[{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"2.1 Node Lifecycle Management",id:"21-node-lifecycle-management",level:2},{value:"Managed vs Unmanaged Nodes",id:"managed-vs-unmanaged-nodes",level:3},{value:"Lifecycle States",id:"lifecycle-states",level:3},{value:"2.2 Publish-Subscribe Pattern (Topics)",id:"22-publish-subscribe-pattern-topics",level:2},{value:"Message Types",id:"message-types",level:3},{value:"Publisher Example (C++)",id:"publisher-example-c",level:3},{value:"Subscriber Example (Python)",id:"subscriber-example-python",level:3},{value:"Design Patterns",id:"design-patterns",level:3},{value:"2.3 Request-Reply Pattern (Services)",id:"23-request-reply-pattern-services",level:2},{value:"When to Use Services",id:"when-to-use-services",level:3},{value:"Service Definition",id:"service-definition",level:3},{value:"Service Server (Python)",id:"service-server-python",level:3},{value:"Service Client (C++)",id:"service-client-c",level:3},{value:"Timeout Handling",id:"timeout-handling",level:3},{value:"2.4 Goal-Based Pattern (Actions)",id:"24-goal-based-pattern-actions",level:2},{value:"When to Use Actions",id:"when-to-use-actions",level:3},{value:"Action Definition",id:"action-definition",level:3},{value:"Action Server (Python)",id:"action-server-python",level:3},{value:"Action Client (C++)",id:"action-client-c",level:3},{value:"Preemption (Cancellation)",id:"preemption-cancellation",level:3},{value:"Summary",id:"summary",level:2},{value:"Exercises",id:"exercises",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"chapter-2-nodes-topics-services-actions",children:"Chapter 2: Nodes, Topics, Services, Actions"})}),"\n",(0,i.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Implement ROS 2 nodes with proper lifecycle management"}),"\n",(0,i.jsx)(n.li,{children:"Design pub/sub systems using topics and message types"}),"\n",(0,i.jsx)(n.li,{children:"Implement synchronous services and asynchronous actions"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"21-node-lifecycle-management",children:"2.1 Node Lifecycle Management"}),"\n",(0,i.jsx)(n.h3,{id:"managed-vs-unmanaged-nodes",children:"Managed vs Unmanaged Nodes"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Unmanaged Node"})," (default):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Starts immediately in active state"}),"\n",(0,i.jsx)(n.li,{children:"No formal state transitions"}),"\n",(0,i.jsx)(n.li,{children:"Simple for prototyping"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Managed Node"})," (LifecycleNode):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Explicit state machine: Unconfigured \u2192 Inactive \u2192 Active \u2192 Finalized"}),"\n",(0,i.jsx)(n.li,{children:"Allows controlled startup/shutdown"}),"\n",(0,i.jsx)(n.li,{children:"Required for production systems (ros2_control, Nav2)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"lifecycle-states",children:"Lifecycle States"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502 Unconfigured\u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502 configure()\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  Inactive   \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502 activate()\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502   Active    \u2502  \u25c4\u2500\u2500\u2500 Normal operation\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502 deactivate()\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  Inactive   \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518\r\n       \u2502 cleanup() / shutdown()\r\n       \u25bc\r\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\r\n\u2502  Finalized  \u2502\r\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"State Callbacks"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"on_configure()"}),": Load parameters, allocate resources"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"on_activate()"}),": Start publishing, open connections"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"on_deactivate()"}),": Pause operation, keep resources"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"on_cleanup()"}),": Release resources"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"on_shutdown()"}),": Emergency stop"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Example"})," (Python):"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from rclpy.lifecycle import LifecycleNode, LifecycleState\r\n\r\nclass CameraNode(LifecycleNode):\r\n    def on_configure(self, state: LifecycleState):\r\n        self.camera = Camera(self.get_parameter('device_id').value)\r\n        self.pub = self.create_lifecycle_publisher(Image, 'camera/image', 10)\r\n        return TransitionCallbackReturn.SUCCESS\r\n\r\n    def on_activate(self, state: LifecycleState):\r\n        self.camera.start()\r\n        self.timer = self.create_timer(0.033, self.publish_frame)  # 30 Hz\r\n        return super().on_activate(state)\r\n\r\n    def on_deactivate(self, state: LifecycleState):\r\n        self.timer.cancel()\r\n        self.camera.stop()\r\n        return super().on_deactivate(state)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"22-publish-subscribe-pattern-topics",children:"2.2 Publish-Subscribe Pattern (Topics)"}),"\n",(0,i.jsx)(n.h3,{id:"message-types",children:"Message Types"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Standard Messages"})," (",(0,i.jsx)(n.code,{children:"ros2 interface list"}),"):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"std_msgs"}),": Primitive types (Int32, Float64, String, Bool)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"geometry_msgs"}),": Pose, Twist, Transform, Wrench"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"sensor_msgs"}),": Image, PointCloud2, LaserScan, Imu, JointState"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"nav_msgs"}),": Odometry, Path, OccupancyGrid"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Custom Messages"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# my_robot_msgs/msg/BatteryStatus.msg\r\nfloat32 voltage\r\nfloat32 current\r\nfloat32 percentage\r\nuint8 STATUS_OK=0\r\nuint8 STATUS_LOW=1\r\nuint8 STATUS_CRITICAL=2\r\nuint8 status\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Build with ",(0,i.jsx)(n.code,{children:"colcon build"}),", generates Python/C++ classes."]}),"\n",(0,i.jsx)(n.h3,{id:"publisher-example-c",children:"Publisher Example (C++)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'#include <rclcpp/rclcpp.hpp>\r\n#include <geometry_msgs/msg/twist.hpp>\r\n\r\nclass VelocityPublisher : public rclcpp::Node {\r\npublic:\r\n    VelocityPublisher() : Node("velocity_publisher") {\r\n        pub_ = this->create_publisher<geometry_msgs::msg::Twist>(\r\n            "cmd_vel", 10);\r\n        timer_ = this->create_wall_timer(\r\n            std::chrono::milliseconds(100),\r\n            std::bind(&VelocityPublisher::publish_cmd, this));\r\n    }\r\n\r\nprivate:\r\n    void publish_cmd() {\r\n        auto msg = geometry_msgs::msg::Twist();\r\n        msg.linear.x = 0.5;  // Forward at 0.5 m/s\r\n        msg.angular.z = 0.1; // Turn at 0.1 rad/s\r\n        pub_->publish(msg);\r\n    }\r\n\r\n    rclcpp::Publisher<geometry_msgs::msg::Twist>::SharedPtr pub_;\r\n    rclcpp::TimerBase::SharedPtr timer_;\r\n};\n'})}),"\n",(0,i.jsx)(n.h3,{id:"subscriber-example-python",children:"Subscriber Example (Python)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.node import Node\r\nfrom sensor_msgs.msg import LaserScan\r\n\r\nclass ObstacleDetector(Node):\r\n    def __init__(self):\r\n        super().__init__('obstacle_detector')\r\n        self.sub = self.create_subscription(\r\n            LaserScan,\r\n            'scan',\r\n            self.scan_callback,\r\n            10)  # QoS depth\r\n\r\n    def scan_callback(self, msg: LaserScan):\r\n        min_distance = min(msg.ranges)\r\n        if min_distance < 0.5:\r\n            self.get_logger().warn(f'Obstacle at {min_distance:.2f}m!')\n"})}),"\n",(0,i.jsx)(n.h3,{id:"design-patterns",children:"Design Patterns"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Throttling"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from rclpy.time import Duration\r\nself.last_publish = self.get_clock().now()\r\n\r\nif (self.get_clock().now() - self.last_publish) > Duration(seconds=1.0):\r\n    self.publisher.publish(msg)\r\n    self.last_publish = self.get_clock().now()\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Message Filtering"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from message_filters import Subscriber, TimeSynchronizer\r\n\r\nimage_sub = Subscriber(self, Image, '/camera/image')\r\ndepth_sub = Subscriber(self, Image, '/camera/depth')\r\nsync = TimeSynchronizer([image_sub, depth_sub], queue_size=10)\r\nsync.registerCallback(self.rgbd_callback)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"23-request-reply-pattern-services",children:"2.3 Request-Reply Pattern (Services)"}),"\n",(0,i.jsx)(n.h3,{id:"when-to-use-services",children:"When to Use Services"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Services"}),": Discrete, short-duration tasks"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reset odometry"}),"\n",(0,i.jsx)(n.li,{children:"Capture a single image"}),"\n",(0,i.jsx)(n.li,{children:"Save map to file"}),"\n",(0,i.jsx)(n.li,{children:"Query robot state"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Not for"}),": Long tasks (use actions), streaming (use topics)"]}),"\n",(0,i.jsx)(n.h3,{id:"service-definition",children:"Service Definition"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# example_interfaces/srv/AddTwoInts.srv\r\nint64 a\r\nint64 b\r\n---\r\nint64 sum\n"})}),"\n",(0,i.jsx)(n.h3,{id:"service-server-python",children:"Service Server (Python)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from example_interfaces.srv import AddTwoInts\r\n\r\nclass AdderService(Node):\r\n    def __init__(self):\r\n        super().__init__('adder')\r\n        self.srv = self.create_service(\r\n            AddTwoInts,\r\n            'add_two_ints',\r\n            self.add_callback)\r\n\r\n    def add_callback(self, request, response):\r\n        response.sum = request.a + request.b\r\n        self.get_logger().info(f'{request.a} + {request.b} = {response.sum}')\r\n        return response\n"})}),"\n",(0,i.jsx)(n.h3,{id:"service-client-c",children:"Service Client (C++)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'auto client = node->create_client<example_interfaces::srv::AddTwoInts>("add_two_ints");\r\n\r\nauto request = std::make_shared<example_interfaces::srv::AddTwoInts::Request>();\r\nrequest->a = 5;\r\nrequest->b = 7;\r\n\r\nauto future = client->async_send_request(request);\r\n// Wait for response\r\nif (rclcpp::spin_until_future_complete(node, future) == rclcpp::FutureReturnCode::SUCCESS) {\r\n    auto result = future.get();\r\n    RCLCPP_INFO(node->get_logger(), "Sum: %ld", result->sum);\r\n}\n'})}),"\n",(0,i.jsx)(n.h3,{id:"timeout-handling",children:"Timeout Handling"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"import rclpy\r\nfrom rclpy.client import Client\r\n\r\nclient = node.create_client(Trigger, '/reset_odometry')\r\nif not client.wait_for_service(timeout_sec=5.0):\r\n    node.get_logger().error('Service not available!')\r\n    return\r\n\r\nfuture = client.call_async(Trigger.Request())\r\nrclpy.spin_until_future_complete(node, future, timeout_sec=2.0)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"24-goal-based-pattern-actions",children:"2.4 Goal-Based Pattern (Actions)"}),"\n",(0,i.jsx)(n.h3,{id:"when-to-use-actions",children:"When to Use Actions"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Actions"}),": Long-running, preemptable tasks"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Navigate to waypoint (can cancel mid-flight)"}),"\n",(0,i.jsx)(n.li,{children:"Pick and place object (feedback on grasp progress)"}),"\n",(0,i.jsx)(n.li,{children:"Trajectory execution (report completion percentage)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Advantages"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Cancellable: Client can abort"}),"\n",(0,i.jsx)(n.li,{children:"Feedback: Progress updates"}),"\n",(0,i.jsx)(n.li,{children:"Result: Final outcome"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"action-definition",children:"Action Definition"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"# action/Fibonacci.action\r\n# Goal\r\nint32 order\r\n---\r\n# Result\r\nint32[] sequence\r\n---\r\n# Feedback\r\nint32[] partial_sequence\n"})}),"\n",(0,i.jsx)(n.h3,{id:"action-server-python",children:"Action Server (Python)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"from rclpy.action import ActionServer\r\nfrom example_interfaces.action import Fibonacci\r\n\r\nclass FibonacciServer(Node):\r\n    def __init__(self):\r\n        super().__init__('fibonacci_server')\r\n        self._action_server = ActionServer(\r\n            self,\r\n            Fibonacci,\r\n            'fibonacci',\r\n            self.execute_callback)\r\n\r\n    def execute_callback(self, goal_handle):\r\n        feedback = Fibonacci.Feedback()\r\n        feedback.partial_sequence = [0, 1]\r\n\r\n        for i in range(1, goal_handle.request.order):\r\n            # Check for cancellation\r\n            if goal_handle.is_cancel_requested:\r\n                goal_handle.canceled()\r\n                return Fibonacci.Result()\r\n\r\n            # Compute next number\r\n            feedback.partial_sequence.append(\r\n                feedback.partial_sequence[-1] + feedback.partial_sequence[-2])\r\n            goal_handle.publish_feedback(feedback)\r\n            time.sleep(0.5)  # Simulate work\r\n\r\n        goal_handle.succeed()\r\n        result = Fibonacci.Result()\r\n        result.sequence = feedback.partial_sequence\r\n        return result\n"})}),"\n",(0,i.jsx)(n.h3,{id:"action-client-c",children:"Action Client (C++)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'auto action_client = rclcpp_action::create_client<Fibonacci>(node, "fibonacci");\r\n\r\nauto goal_msg = Fibonacci::Goal();\r\ngoal_msg.order = 10;\r\n\r\nauto send_goal_options = rclcpp_action::Client<Fibonacci>::SendGoalOptions();\r\nsend_goal_options.feedback_callback = [](auto, const auto & feedback) {\r\n    std::cout << "Feedback: " << feedback->partial_sequence.back() << std::endl;\r\n};\r\nsend_goal_options.result_callback = [](const auto & result) {\r\n    std::cout << "Final sequence size: " << result.result->sequence.size() << std::endl;\r\n};\r\n\r\nauto goal_handle_future = action_client->async_send_goal(goal_msg, send_goal_options);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"preemption-cancellation",children:"Preemption (Cancellation)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-python",children:"# Client cancels goal\r\nfuture = action_client.send_goal_async(goal)\r\ngoal_handle = future.result()\r\ncancel_future = goal_handle.cancel_goal_async()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Lifecycle"}),": Managed nodes for controlled startup/shutdown\r\n",(0,i.jsx)(n.strong,{children:"Topics"}),": Many-to-many, async, streaming data\r\n",(0,i.jsx)(n.strong,{children:"Services"}),": One-to-one, sync, discrete requests\r\n",(0,i.jsx)(n.strong,{children:"Actions"}),": Goal-feedback-result, async, preemptable"]}),"\n",(0,i.jsx)(n.h2,{id:"exercises",children:"Exercises"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Exercise 2.1"}),": Implement a LifecycleNode that controls an LED. The LED should turn on in the ",(0,i.jsx)(n.code,{children:"on_activate()"})," callback and turn off in the ",(0,i.jsx)(n.code,{children:"on_deactivate()"})," callback. Test state transitions using ",(0,i.jsx)(n.code,{children:"ros2 lifecycle set /led_node"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Exercise 2.2"}),": Create a service that calculates the distance between two 3D points. Define a custom service type with two ",(0,i.jsx)(n.code,{children:"geometry_msgs/Point"})," as input and a ",(0,i.jsx)(n.code,{children:"float64"})," distance as output. Implement the server in C++ and client in Python."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Exercise 2.3"}),": Implement an action server for a simple battery charging simulation. The goal is the target charge percentage, feedback is the current percentage (updated every second), and the result indicates whether charging succeeded or was preempted. Test cancellation mid-charging."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Exercise 2.4"}),": Synchronize two camera topics (RGB and depth) using ",(0,i.jsx)(n.code,{children:"message_filters.TimeSynchronizer"}),". Process only pairs of messages with matching timestamps. Log a warning if synchronization fails for more than 1 second."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next"}),": Chapter 3 covers coordinate transforms (TF2) and robot descriptions (URDF)."]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>l});var r=s(96540);const i={},c=r.createContext(i);function t(e){const n=r.useContext(c);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),r.createElement(c.Provider,{value:n},e.children)}}}]);