"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[6734],{6954:(e,s,t)=>{t.d(s,{P:()=>o});var a=t(96540);const n="https://your-backend-url.com";function o(){const[e,s]=(0,a.useState)(!1),[t,o]=(0,a.useState)(null);return{submitQuery:async(e,t)=>{s(!0),o(null);try{const s=await fetch(`${n}/v1/query`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:e,book_context:{book_id:"physical-ai-robotics",chapter_number:null,page_url:null},selected_text:t||null})});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);const a=await s.json();return{answer:a.response_text,sources:a.source_references.map(e=>({chapter:e.chapter||"",section:e.section||"",page_url:e.citation||"#"})),confidence:a.confidence_score||.8}}catch(a){const e=a instanceof Error?a.message:"Unknown error occurred";throw o(e),a}finally{s(!1)}},isLoading:e,error:t}}},16734:(e,s,t)=>{t.r(s),t.d(s,{default:()=>r});var a=t(96540);const n={chatToggle:"chatToggle_omFH",chatWindow:"chatWindow_CD3_",slideUp:"slideUp_JtmS",chatHeader:"chatHeader_IlzX",closeButton:"closeButton_dMPt",chatMessages:"chatMessages_JLQF",welcomeMessage:"welcomeMessage_Joy1",message:"message_ecq1",userMessage:"userMessage_PnlD",assistantMessage:"assistantMessage_Wrzp",messageContent:"messageContent_Xwkl",sources:"sources_BU0o",sourceLink:"sourceLink_sPNg",loadingIndicator:"loadingIndicator_wUPi",loadingDot:"loadingDot_ajBQ",bounce:"bounce_S_e3",chatInput:"chatInput_WuYa",input:"input_j3Fg",sendButton:"sendButton_ZeWm"};var o=t(6954),c=t(74848);function r(){const[e,s]=(0,a.useState)(!1),[t,r]=(0,a.useState)([]),[i,l]=(0,a.useState)(""),[u,d]=(0,a.useState)(!1),h=(0,a.useRef)(null),{submitQuery:g}=(0,o.P)();(0,a.useEffect)(()=>{h.current?.scrollIntoView({behavior:"smooth"})},[t]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("button",{className:n.chatToggle,onClick:()=>s(!e),"aria-label":"Toggle chatbot",children:e?"\u2715":"\ud83d\udcac"}),e&&(0,c.jsxs)("div",{className:n.chatWindow,children:[(0,c.jsxs)("div",{className:n.chatHeader,children:[(0,c.jsx)("h3",{children:"Ask about the book"}),(0,c.jsx)("button",{className:n.closeButton,onClick:()=>s(!1),"aria-label":"Close chatbot",children:"\u2715"})]}),(0,c.jsxs)("div",{className:n.chatMessages,children:[0===t.length&&(0,c.jsxs)("div",{className:n.welcomeMessage,children:[(0,c.jsx)("p",{children:"\ud83d\udc4b Hi! I can answer questions about this book."}),(0,c.jsx)("p",{children:"Try asking:"}),(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:'"What is Physical AI?"'}),(0,c.jsx)("li",{children:'"Explain embodied intelligence"'}),(0,c.jsx)("li",{children:'"What topics are covered?"'})]})]}),t.map(e=>(0,c.jsxs)("div",{className:`${n.message} ${"user"===e.role?n.userMessage:n.assistantMessage}`,children:[(0,c.jsx)("div",{className:n.messageContent,children:e.content}),e.sources&&e.sources.length>0&&(0,c.jsxs)("div",{className:n.sources,children:[(0,c.jsx)("strong",{children:"Sources:"}),e.sources.map((e,s)=>(0,c.jsxs)("a",{href:e.page_url,className:n.sourceLink,target:"_blank",rel:"noopener noreferrer",children:[e.chapter," - ",e.section]},s))]})]},e.id)),u&&(0,c.jsxs)("div",{className:n.loadingIndicator,children:[(0,c.jsx)("span",{className:n.loadingDot}),(0,c.jsx)("span",{className:n.loadingDot}),(0,c.jsx)("span",{className:n.loadingDot})]}),(0,c.jsx)("div",{ref:h})]}),(0,c.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!i.trim()||u)return;const s={id:Date.now().toString(),role:"user",content:i,timestamp:new Date};r(e=>[...e,s]),l(""),d(!0);try{const e=await g(i),s={id:(Date.now()+1).toString(),role:"assistant",content:e.answer,sources:e.sources,timestamp:new Date};r(e=>[...e,s])}catch(t){const e={id:(Date.now()+1).toString(),role:"assistant",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};r(s=>[...s,e])}finally{d(!1)}},className:n.chatInput,children:[(0,c.jsx)("input",{type:"text",value:i,onChange:e=>l(e.target.value),placeholder:"Ask a question...",disabled:u,className:n.input}),(0,c.jsx)("button",{type:"submit",disabled:u||!i.trim(),className:n.sendButton,children:"Send"})]})]})]})}}}]);